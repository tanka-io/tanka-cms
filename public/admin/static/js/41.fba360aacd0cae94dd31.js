webpackJsonp([41,48],{295:function(t,e,a){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},297:function(t,e,a){"use strict";var n=a(295),s=a.n(n),i=function t(){s()(this,t),this.en={},this.fr={},this.ar={}};e.a=i},304:function(t,e,a){"use strict";function n(t){a(305)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(307),i=a(308),c=a(169),r=n,o=c(s.a,i.a,!1,r,"data-v-9bd54b5c",null);e.default=o.exports},305:function(t,e,a){var n=a(306);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(264)("7754930e",n,!0)},306:function(t,e,a){e=t.exports=a(263)(!0),e.push([t.i,".max[data-v-9bd54b5c]{width:100%;height:100%;min-width:0}","",{version:3,sources:["/home/heiyuki/work/Tanka/tanka-cms-admin/src/components/Pages/Page.Form.vue"],names:[],mappings:"AACA,sBACE,WAAY,AACZ,YAAa,AACb,WAAe,CAChB",file:"Page.Form.vue",sourcesContent:["\n.max[data-v-9bd54b5c] {\n  width: 100%;\n  height: 100%;\n  min-width: 0px;\n}\n"],sourceRoot:""}])},307:function(t,e,a){"use strict";var n=a(297),s=function(){return a.e(49).then(a.bind(null,319))},i=function(){return a.e(33).then(a.bind(null,296))};e.a={props:{page:{type:Object,required:!0},schemas:{type:Array,required:!0}},data:function(){return{lang:"fr",block:null,selectedTab:0}},methods:{submit:function(){this.$emit("submit")},back:function(){this.$emit("back")},isSelected:function(t){return this.lang===t?"btn btn-primary":"btn btn-secondary"},setLang:function(t){this.lang=t},parentAdd:function(){var t=new Object;this.page.tabs[this.selectedTab].children.push(t)},remove:function(t){var e=this;this.page.tabs[this.selectedTab].children.forEach(function(a,n){a.type===t.type&&a[lang].value===t[lang].value&&e.page.tabs[e.selectedTab].children.splice(n,1)},this)},addData:function(){this.page.dataSource||(this.page.dataSource=new Array),this.page.dataSource.push({}),this.$forceUpdate()},setSelectedTab:function(t){this.selectedTab=t},deleteTab:function(t){this.page.tabs.splice(t,1)},addTab:function(){this.page.tabs.push({ar:{title:"Tab"+this.page.tabs.length},fr:{title:"Tab"+this.page.tabs.length},en:{title:"Tab"+this.page.tabs.length},children:[new n.a]})}},components:{Datepicker:i,BlockComponent:s}}},308:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("form",{staticClass:"container",on:{submit:function(e){e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t._v("\n        Changer de langue:\n        "),a("button",{class:t.isSelected("fr"),attrs:{type:"button"},on:{click:function(e){t.setLang("fr")}}},[t._v("Fr")]),t._v(" "),a("button",{class:t.isSelected("ar"),attrs:{type:"button"},on:{click:function(e){t.setLang("ar")}}},[t._v("Ar")]),t._v(" "),a("button",{class:t.isSelected("en"),attrs:{type:"button"},on:{click:function(e){t.setLang("en")}}},[t._v("En")])]),t._v(" "),t.page?a("div",{staticClass:"col-12 border"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Title")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.page[t.lang].title,expression:"page[lang].title"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.page[t.lang].title},on:{input:function(e){e.target.composing||t.$set(t.page[t.lang],"title",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Container")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.page.container,expression:"page.container"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.page.container)?t._i(t.page.container,null)>-1:t.page.container},on:{change:function(e){var a=t.page.container,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=t._i(a,null);n.checked?i<0&&(t.page.container=a.concat([null])):i>-1&&(t.page.container=a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.page,"container",s)}}})])]),t._v(" "),a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addData}},[t._v("Add Data Source")])]),t._v(" "),t._l(t.page.dataSource,function(e,n){return a("div",{key:e._id,staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Type")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.page.dataSource[n].type,expression:"page.dataSource[i].type"}],staticClass:"form-control",attrs:{type:"text",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.page.dataSource[n],"type",e.target.multiple?a:a[0])}}},t._l(t.schemas,function(e){return a("option",{key:e._id,domProps:{value:e._id}},[t._v(t._s(e._title))])}))])]),t._v(" "),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Value")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.page.dataSource[n].value,expression:"page.dataSource[i].value"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.page.dataSource[n].value},on:{input:function(e){e.target.composing||t.$set(t.page.dataSource[n],"value",e.target.value)}}})])])])])})],2)]):t._e(),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[t._l(t.page.tabs,function(e,n){return t.page.tabs&&t.page.tabs.length>1?a("div",{key:e[t.lang].title},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.setSelectedTab(n)}}},[t._v(t._s(e[t.lang].title))]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.deleteTab(n)}}},[t._v("x")])]):t._e()}),t._v(" "),a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){t.addTab()}}},[t._v("Add Tab")])])],2)]),t._v(" "),t.page.tabs&&t.page.tabs.length>1?a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Tab Title")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.page.tabs[t.selectedTab][t.lang].title,expression:"page.tabs[selectedTab][lang].title"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.page.tabs[t.selectedTab][t.lang].title},on:{input:function(e){e.target.composing||t.$set(t.page.tabs[t.selectedTab][t.lang],"title",e.target.value)}}})])]):t._e(),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"col-12"},t._l(t.page.tabs[t.selectedTab].children,function(e){return a("BlockComponent",{key:e._id,attrs:{block:e,lang:t.lang},on:{parentAdd:t.parentAdd,remove:t.remove}})})),t._v(" "),a("div",{staticClass:"col-12"},[a("button",{staticClass:"max",attrs:{type:"button"},on:{click:t.parentAdd}},[t._v("+")])]),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(" Valider ")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.back}},[t._v(" Retour ")])])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("hr")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("hr")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("hr")])}],i={render:n,staticRenderFns:s};e.a=i}});
//# sourceMappingURL=41.fba360aacd0cae94dd31.js.map