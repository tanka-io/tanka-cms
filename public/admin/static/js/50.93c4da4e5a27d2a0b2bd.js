webpackJsonp([50],{419:function(e,t,a){"use strict";function s(e){a(420)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(422),r=a(423),n=a(169),c=s,o=n(i.a,r.a,!1,c,"data-v-b52b7eda",null);t.default=o.exports},420:function(e,t,a){var s=a(421);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(264)("5d0d275a",s,!0)},421:function(e,t,a){t=e.exports=a(263)(!0),t.push([e.i,".border[data-v-b52b7eda]{border:2px solid gray}","",{version:3,sources:["/home/heiyuki/work/Tanka/tanka-cms-admin/src/components/Datas/DataFormBlock.vue"],names:[],mappings:"AACA,yBACE,qBAAuB,CACxB",file:"DataFormBlock.vue",sourcesContent:["\n.border[data-v-b52b7eda] {\n  border: 2px solid gray;\n}\n"],sourceRoot:""}])},422:function(e,t,a){"use strict";var s=function(){return a.e(33).then(a.bind(null,296))};t.a={name:"DataFormBlock",props:{data:{type:[Object,Array],required:!0},schema:{type:Object,required:!0},lang:{type:String,required:!0}},methods:{getTitle:function(e){return e._title},addElement:function(e){var t=this.data[this.getTitle(e)];"ref"!==e._arrType?t.push(this.instantiateType(e._arrType)):t.push(this.updateData({},e._arrRef)),this.$forceUpdate()},initArray:function(){this.schema._children=new Array},updateData:function(e,t){var a=this;return e[t._title]||(e[t._title]=this.instantiateType(t._type)),"object"===t._type&&t._children.forEach(function(s){e[t._title]=a.updateData(e[t._title],s)},this),e},instantiateType:function(e){return"text"===e?{ar:"",fr:"",en:""}:"number"===e?0:"date"===e?new Date:"array"===e?new Array:new Object},removeData:function(e){this.data[this.getTitle(this.schema)].splice(e,1),this.$forceUpdate()}},components:{Datepicker:s}}},423:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-11 offset-1 border"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.schema._title))]),e._v(" "),"number"===e.schema._type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.data[e.getTitle(e.schema)],expression:"data[getTitle(schema)]"}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:e.data[e.getTitle(e.schema)]},on:{input:function(t){t.target.composing||e.$set(e.data,e.getTitle(e.schema),t.target.value)}}}):e._e(),e._v(" "),"text"===e.schema._type?a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.data[e.getTitle(e.schema)][e.lang],expression:"data[getTitle(schema)][lang]"}],staticClass:"form-control",attrs:{required:""},domProps:{value:e.data[e.getTitle(e.schema)][e.lang]},on:{input:function(t){t.target.composing||e.$set(e.data[e.getTitle(e.schema)],e.lang,t.target.value)}}}):e._e(),e._v(" "),"date"===e.schema._type?a("Datepicker",{attrs:{inline:!0,required:""},model:{value:e.data[e.getTitle(e.schema)],callback:function(t){e.$set(e.data,e.getTitle(e.schema),t)},expression:"data[getTitle(schema)]"}}):e._e(),e._v(" "),"object"===e.schema._type?a("div",{staticClass:"col-11 offset-1"},e._l(e.schema._children,function(t){return a("DataFormBlock",{key:t._title,attrs:{data:e.data[e.getTitle(e.schema)],schema:t,lang:e.lang}})})):e._e(),e._v(" "),"array"===e.schema._type&&e.data[e.getTitle(e.schema)]?a("div",{staticClass:"col-11 offset-1"},[a("div",{staticClass:"row"},e._l(e.data[e.getTitle(e.schema)],function(t,s){return a("div",{key:t._title,staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-11"},["number"===e.schema._arrType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.data[e.getTitle(e.schema)][s],expression:"data[getTitle(schema)][i]"}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:e.data[e.getTitle(e.schema)][s]},on:{input:function(t){t.target.composing||e.$set(e.data[e.getTitle(e.schema)],s,t.target.value)}}}):e._e(),e._v(" "),"text"===e.schema._arrType?a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.data[e.getTitle(e.schema)][s][e.lang],expression:"data[getTitle(schema)][i][lang]"}],staticClass:"form-control",attrs:{required:""},domProps:{value:e.data[e.getTitle(e.schema)][s][e.lang]},on:{input:function(t){t.target.composing||e.$set(e.data[e.getTitle(e.schema)][s],e.lang,t.target.value)}}}):e._e(),e._v(" "),"date"===e.schema._arrType?a("Datepicker",{attrs:{inline:!0,required:""},model:{value:e.data[e.getTitle(e.schema)][s],callback:function(t){e.$set(e.data[e.getTitle(e.schema)],s,t)},expression:"data[getTitle(schema)][i]"}}):e._e(),e._v(" "),"ref"===e.schema._arrType?a("div",[a("DataFormBlock",{attrs:{data:e.data[e.getTitle(e.schema)][s],schema:e.schema._arrRef,lang:e.lang}})],1):e._e()],1),e._v(" "),a("div",{staticClass:"col-1"},[a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){e.removeData(s)}}},[e._v("x")])])])])})),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.addElement(e.schema)}}},[e._v("Add Element")])]):e._e(),e._v(" "),"ref"===e.schema._type?a("div",{staticClass:"col-11 offset-1"}):e._e()],1)])])},i=[],r={render:s,staticRenderFns:i};t.a=r}});
//# sourceMappingURL=50.93c4da4e5a27d2a0b2bd.js.map